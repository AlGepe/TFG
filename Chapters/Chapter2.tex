\chapter{Silicon detectors basics} %PREELIMINARY TITLE % (fold)
%I should probably talk about leakage current as well
\label{cha:simulator_development}

In general, a detector consists of an enclosed volume, filled with a material in which free charge carriers can be generated by an incident particle. This volume is connected to a power supply that provides a  potential difference between two points inside the volume. The potential difference induces a drift of the carriers. The current induced by this movement is then picked on electrodes, amplified and processed by some front end electronics.

Even though this general concept of particle detector holds true for almost every detector in use nowadays the implementation of this concept varies greatly depending on the material from which the detector is constructed. In the following sections we will summarise the operational principles of silicon detectors

\section{P-N Junction}

Silicon is a semiconductor material. Its electrical properties can be modified by adding controlled impurities to the lattice; this process is called doping. There are two main types of dopants used: acceptor impurities and donor impurities. Phosphorous is a typical donor dopant. It has 5 electrons in its outer shell. When added to the Si lattice, the extra electron is lightly bound. In the energy-momentum representation, the P atom introduces an energy close to the conduction band. Phosphorous doped silicon is known as n-type silicon. 

On the other hand, Boron is an example of acceptor dopant. Boron has 3 electrons in its outer shell. When Boron is made to substitute a Silicon atom in the lattice, an electron from a nearby Silicon atom will fill this deficiency. The Si atom contributing with the electron, will have a hole in its outer shell, that can be occupied with another electron from a neighbour atom. From a general perspective, the "hole" associated to the original Boron has now moved to another Silicon atom. This motion of a "hole" illustrates the conduction due to holes in a p-type doped Silicon.

These donor (or acceptor) levels introduced by impurities are very close to the conduction (Valence) band. Energies of the order of $k_B T$ at room temperature are enough to excite electrons from the dopant level into the conduction band (from the valence band into the impurity level). These addition of dopants to Silicon improves electrical conductivity of Silicon by orders of magnitude.

In a real semiconductor, there are impurities of both types, despite the fact that one kind of them can be majority. The difference between the number of donor impurities ($N_D$) and acceptor impurities ($N_A$) dictates whether the material is $p$-doped ($N_A > N_D $) or n-doped ($N_D > N_A$). This difference is called $N_{eff}$, or the effective doping.

When $n$-type Silicon is put in contact with $p$"-type a pn-junction is formed. Due to the concentration difference, electrons from the n-type will diffuse to the p-type material, while holes from the $p$-side will diffuse into the n-material. While doing so, an electric field appears from the n-type to the p-type material due to the fixed spatial charges (ionized atoms). This electric field will then stop diffusion of free carriers. The ionised atoms in the silicon lattice cannot effectively move from their initial positions. The region depleted of lightly bound (free) charge carriers is called the depletion zone. Note that and it is a function of the bias voltage applied to the detector.


\subsection{Effective space charge distribution ($N_{eff}$)} 
%Talk equations and introduce the concept of Neff and its shape in a non-irradiated silicon detector

The electrical properties of the $p-n$ junction can be derived from the corresponding Poisson equation. 
\begin{equation}
\nabla^2 \phi = \frac{\rho(x)}{\epsilon} 
\label{eq:poisson}
\end{equation}

Where $\phi$ is the electric potential, $\epsilon$ the absolute permittivity of silicon and $\rho(x)$ is the space charge distribution as a function of position.

It is easy to see from equation (\ref{eq:poisson}) the important role of the space charge distribution, also called $N_{eff}$. Such quantity will also play a very important in the parametrisation and implementation of radiation damage in the TRACS simulator, as we will explain in detail in sections [SECTION]. For now, we will focus on the non-irradiated case in which the $N_{eff}$ is constant throughout the depleted zone \[ Kramberger (2.5)\] for a junction located at $x=0$ and $-x_p$ and $x_n$ being the extremes of the depleted zone.

It is important to note that since the both the $n$-doped and $p$-doped silicon were electrically neutral in the beginning and no charge has been created or destroyed in the process of creating the junction, the material as a whole must also be neutral which means the total amount of charge has to be equal on both side, this leads us to a very important conclusion when building a detector out of silicon: \[N_A x_p = N_D x_n\] 

This relationship is very important when building a detector since one tries to maximise the sensing volume of the detector (which in a silicon detector is the depleted zone) but the $p-n$ junction is a feature to avoid in the middle of the detector. The usual procedure when building a silicon detector is to have one of the doped silicon sides be of a much higher doping than the other (e.g.: $N_A >> N_D$  so that the depletion zone is almost entirely on one side of the junction ($x_n >> x_p$). In this manner one gets rid of the mess involved in having the $p-n$ junction in the middle of the detector.

With this configuration one can make useful approximations to calculate the width of the depleted zone ($w$) such as $w \approx x_p$  (using the example above) so that $w$ can be calculated using 
\begin{equation}
w = \sqrt{\frac{2\epsilon V_0}{\epsilon_0 N_D}}
\label{eq:width}
\end{equation}

where $V_0$ is the so called built-in potential difference mentioned before that arises from the diffusion of the impurities from one side to the other of the junction.

When Poisson's equation is solved for $\rho = const$ the resulting electric $\nabla \phi = \vec{E}$ field is linear with the distance to the $p-n$ junction. In a typical detector configuration (where $w \approx x_{p/n}$) this mean there is an electric field across the whole active volume of the detector (depleted area) in which any carrier created inside of the depleted zone will drift out of said zone. This configuration is exactly what we described at the begging of the section as the basic "detector configuration". 

The presence of the $p-n$ junction is, therefore, the fundamental way to make a particle detector out of silicon and its properties will determine the effectiveness of said detector. However, this basic configuration is usually not enough to have a silicon detector that can be use in real-world applications. To get a "usable" silicon detector one should build upon the features we have seen to enhance its properties as we will see in the next section.

\section{Detector configuration and signal creation}

The first problem that one faces when building a silicon detector from a bare $p-n$ junction is getting as much active volume as possible i.e.: depleting the whole piece of silicon. For this purpose a bias voltage ($V_{bias}$) is introduced. This $V_{bias}$ is applied externally following the same polarity as the built-in potential $V_0$ and increases the depleting effect of the $p-n$ junction therefore increasing the active volume of silicon. 
To calculate the effects of the \vias it is enough to substitute $V_$ by the sum of both potentials ($V_0$ +\vias) in equation (\ref{eq:width}). The resulting equation can be simplified if we assume $V_0 << $\vias which holds true in most of the real-world cases. This means equation (\ref{eq:width}) can be re-written as: 
\begin{equation}
w = \sqrt{\frac{2\epsilon V_0}{\epsilon_0 N_D}}
\label{eq:widthVias}
\end{equation}

What this equation shows is that the depleted silicon volume can be as big as desired, provided that enough voltage is applied, making it possible for the whole silicon volume to be depleted and used as a particle detector. 

These basic principles allows silicon detectors to be made but since there are very small geometrical restrictions to create a $p-n$ junction, silicon detectors come in ever so increasingly more complex configurations. From the very new LGADs (with built-in gain) to the widespread micro-strips (used in most of the inner parts of the experiments at LHC) the design, properties and fabrication processes vary extremely. However the silicon pad detector remains one of the most important detector designs, particularly in research, due to its simplicity. This simple detector configuration allows researches to understand the fundamentals of silicon detectors without any design feature getting in the way. 

A silicon pad detector has the most simple structure possible and its composed of a thin (typically ~3$\mu$m) layer of very highly doped silicon called the implant that sits on top of a bigger (typically 300$\mu$m) piece of silicon with a lower density of dopants called the bulk. These two piece of silicon have different type of dopants to create the $p-n$ junction. Connection to the electrical circuit that provides the \vias and performs read-out of the signal is done by means of an ohmic metal contact in the top part of the pad (on top of the thin layer).On the other side of the bulk there's another highly doped layer of silicon and another metal ohmic contact is placed on top of it for better electrical contact with the circuit.

\section{Signal Generation: Ramo's Theorem} % No es Sergio Ramos, es otro Ramo's

The depleted part of the silicon detector, i.e.: the active part is the volume of silicon in which free charge carriers might be created and then drift creating an electrical signal that can be measured and analysed in the laboratory. When an incoming particle goes through thew bulk of the silicon detector it can create electron-hole pairs. The number of pairs created will depend on the particle's nature and energy and has an obvious and direct impact in the collected signal. 

When a particle is able to knock off one electron out of their original position, it will move to an energy level in the conduction band, leaving a hole in the valence band. This yields a situation in which both the electron in the conduction band and the hole in the valence band can move in the electric field present inside the depleted bulk of the detector. This drift of the charge carriers inside of the depleted region will induce a signal in the electrodes of the circuit as explained by Ramo-Shockley Theorem.

The Ramo-Shockely Theorem states that the current induced by a moving charge on a wire/circuit is proportional to the carge of the particle and the velocity at which it moves. 
\begin{equation}
	i = v \cdot q
	\label{eq:ramo} 
\end{equation} 
For a system where more than one particle is moving and thus inducing current in the circuit, the total current can be written as the sum of each individual contribution from the N particles moving in the system. If all the charge carriers have the same charge as it is in the case of electrons and holes drifting inside the silicon volume, then equation (\ref{eq:ramo}) can be re-written as:
\begin{equation}
	I = q \cdot \sum_{n=1}^{N} v_n 	\label{eq:ramoTot} 
\end{equation} 

In semiconductors like silicon the drift velocity of electrons and holes can be parametrised as the product of the electric field ($ \vec E $) and the mobility (\mu) of said particle.\[v = \mu \cdot \vec E\] Where the mobility is and experimentally determined parameter that parametrises how a charge carrier moves in a given energy band when subject to an electric field. Typically electron mobilities ($ \mu_e $) are taken to be referred to the conduction band unless otherwise specified. Conversely, hole mobilities ($ \mu_h $) are taken to be referred to the valence band by default. Putting all this together we arrive at
\begin{equation}
	I = q \cdot \sum_{n=1}^{N} \mu_i \cdot \vec{E} 
\label{eq:ramoMob}
\end{equation}
where the sub-index $i$ may refer to electrons or holes depending on the particle that contributes to the total current.

This theorem and its results are one of the most fundamental principles needed to understand silicon detectors. In fact, its applicability goes beyond silicon unirradiated silicon detectors and holds true for irradiated silicon detectors. It is important to note, though, that for irradiated silicon detectors there are some factors to take into account that makes the application of Schockley-Ramos theorem less straight forward than in the unirradiated case. In the following section we will go in more detail about what are the effects of irradiation in signal formation and collection as well as explain how to properly take into account those effects.
