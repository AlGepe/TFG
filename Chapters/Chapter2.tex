\chapter{Silicon detectors: all you always wanted to know but never dared asking} %PREELIMINARY TITLE % (fold)
\label{cha:simulator_development}

Silicon detectors work using the same basic principles that almost every other particle detector uses. This classical "detector configuration" consists fundamentally in an enclosed volume which is filled with a material in which free charges can be generated by and incident particle. This volume is then connected to an electrical circuit that creates a  potential difference between two points inside the volume, these can also be part of the edge of said volume. The process by which signal is collected is very easy to understand in this general detector.

When an incoming particle goes through the volume there's a probability that this particle might create one or more pairs of free charges, one positive and one negative (either electron-ion or electron-hole pair), these charges then move in the electric field inside the volume following opposite trajectories depending on their charge. The movement of charges creates a current in the circuit by electrical induction that depends on the speed of the charged particles and the total amount of charge. This current created in the circuit is what can be measured in the lab and analysed to obtain all the relevant physical quantities.

Even though this general concept of particle detector holds true for almost every detector in use nowadays the implementation of this concept varies greatly depending on the material from which the detector is constructed. In the following sections we will see in detail how silicon can be turned into a particle detector as well as the operational principles of silicon detectors

\section{P-N Junction}

Silicon is a semiconductor material and as such it has some interesting properties. In a pure state silicon does not conduct electricity well enough to make for a good detector material. However, as any semiconductor its electrical properties can be easily modified by adding controlled impurities a pure silicon crystal; this process is called doping. There are two main types of impurities used for silicon doping: acceptor impurities and donor impurities.

Donor impurities have one electron more in the outer shell than silicon. Donor impurities introduce extra energy levels close to the Conduction band filled with the extra electrons they bring. Conversely acceptor impurities have one less electron in the outer shell producing new empty energy levels close to the Valence band. These last empty energy levels are better pictured in solid state physics as being filled with a hole\footnote{Holes are quasi-particles used in solid state physics as a more convenient way of describing the lack of an electron} since it groups all the effects of the electrons moving in and out of empty energy levels into one particle.

These donor (or acceptor) levels introduced by impurities are very close to the conduction (Valence) band, so much so that energies of the order of $k_B T$ at room temperature are enough to excite electrons into the conduction band (from the valence band into the impurity level). These excitations result in the doped silicon being able to conduct electricity much better than before and allowing silicon to be used as detector material.

Silicon can be doped with donor impurities only, acceptor impurities only or both types of impurities. In the latter case is the difference between the number of donor impurities ($N_D$) and acceptor impurities ($N_A$) dictates whether the doped silicon will be considered $p$-doped ($N_A > N_D $) or n-doped ($N_D > N_A$). When $n$-doped and $p$-doped silicon are put in contact or when there is an abrupt jump in the silicon from $n$-doping to $p$-doping, the so called $p-n \hspace{5pt} junction$ appears and some strange effects appear.

To understand what are those effects and why they happen we should start by looking at each type of silicon on both sides of the junction. On the one hand we have and excess of acceptors $N_A$ ($p$ side) whilst on the other side there is an excess of donors $N_D$ ($n$ side) this produces a gradient of the chemical potential that makes impurities diffuse from one side to the other. This diffusive migration of donor impurities to the $p$ side and acceptors to the $n$ side creates an electrical potential difference due to said movement of charged impurities from one side to the other. The resulting electric field produces the opposite effect in the charged impurities than the chemical potential. Since the ionised atoms in the silicon lattice cannot effectively move from their initial positions, an equilibrium is achieved when the chemical and electrical potentials balance its effect resulting in an steady state. 

In such a equilibrium state 2 zones can be clearly identified near the $p-n$ junctions, on top of the unaffected $p$ and $n$ regions of the silicon far away from the junction. These two zones are electrically charged having an excess of negative charge on the $p$ side and a excess of positive charge on the $n$ side of the junction. In this region, called the space charge region, an electrical field and its correspondent potential can be found. This region is called the depletion region because it has been depleted of free charge carriers.

\subsection{Effective space charge distribution ($N_{eff}$)} 
%Talk equations and introduce the concept of Neff and its shape in a non-irradiated silicon detector

The electrical properties of the $p-n$ junction can be derived from the corresponding Poisson equation. 
\begin{equation}
\nabla^2 \phi = \frac{\rho(x)}{\epsilon} 
\label{eq:poisson}
\end{equation}

Where $\phi$ is the electric potential, $\epsilon$ the absolute permittivity of silicon and $\rho(x)$ is the space charge distribution as a function of position.

It is easy to see from equation (\ref{eq:poisson}) the important role of the space charge distribution, also called $N_{eff}$. Such quantity will also play a very important in the parametrisation and implementation of radiation damage in the TRACS simulator, as we will explain in detail in sections [SECTION]. For now, we will focus on the non-irradiated case in which the $N_{eff}$ is constant throughout the depleted zone \[ Kramberger (2.5)\] for a junction located at $x=0$ and $-x_p$ and $x_n$ being the extremes of the depleted zone.

It is important to note that since the both the $n$-doped and $p$-doped silicon were electrically neutral in the beginning and no charge has been created or destroyed in the process of creating the junction, the material as a whole must also be neutral which means the total amount of charge has to be equal on both side, this leads us to a very important conclusion when building a detector out of silicon: \[N_A x_p = N_D x_n\] 

This relationship is very important when building a detector since one tries to maximise the sensing volume of the detector (which in a silicon detector is the depleted zone) but the $p-n$ junction is a feature to avoid in the middle of the detector. The usual procedure when building a silicon detector is to have one of the doped silicon sides be of a much higher doping than the other (e.g.: $N_A >> N_D$  so that the depletion zone is almost entirely on one side of the junction ($x_n >> x_p$). In this manner one gets rid of the mess involved in having the $p-n$ junction in the middle of the detector.

With this configuration one can make useful approximations to calculate the width of the depleted zone ($w$) such as $w \approx x_p$  (using the example above) so that $w$ can be calculated using 
\begin{equation}
w = \sqrt{\frac{2\epsilon V_0}{\epsilon_0 N_D}}
\label{eq:width}
\end{equation}

where $V_0$ is the so called built-in potential difference mentioned before that arises from the diffusion of the impurities from one side to the other of the junction.

When Poisson's equation is solved for $\rho = const$ the resulting electric $\nabla \phi = \vec{E}$ field is linear with the distance to the $p-n$ junction. In a typical detector configuration (where $w \approx x_{p/n}$) this mean there is an electric field across the whole active volume of the detector (depleted area) in which any carrier created inside of the depleted zone will drift out of said zone. This configuration is exactly what we described at the begging of the section as the basic "detector configuration". 

The presence of the $p-n$ junction is, therefore, the fundamental way to make a particle detector out of silicon and its properties will determine the effectiveness of said detector. However, this basic configuration is usually not enough to have a silicon detector that can be use in real-world applications. To get a "usable" silicon detector one should build upon the features we have seen to enhance its properties as we will see in the next section.

\section{Detector configuration and signal creation}

The first problem that one faces when building a silicon detector from a bare $p-n$ junction is getting as much active volume as possible i.e.: depleting the whole piece of silicon. For this purpose a bias voltage ($V_{bias}$) is introduced. This $V_{bias}$ is applied externally following the same polarity as the built-in potential $V_0$ and increases the depleting effect of the $p-n$ junction therefore increasing the active volume of silicon. 
To calculate the effects of the \vias it is enough to substitute $V_$ by the sum of both potentials ($V_0$ +\vias) in equation (\ref{eq:width}). The resulting equation can be simplified if we assume $V_0 << $\vias which holds true in most of the real-world cases. This means equation (\ref{eq:width}) can be re-written as: \[w = \sqrt{\frac{2\epsilon V_0}{\epsilon_0 N_D}}\]

What this equation shows is that the depleted silicon volume can be as big as desired, provided that enough voltage is applied, making it possible for the whole silicon volume to be depleted and used as a particle detector. 

These basic principles allows silicon detectors to be made but since there are very small geometrical restrictions to create a $p-n$ junction, silicon detectors come in ever so increasingly more complex configurations. From the very new LGADs (with built-in gain) to the widespread micro-strips (used in most of the inner parts of the experiments at LHC) the design, properties and fabrication processes vary extremely. However the silicon pad detector remains one of the most important detector designs, particularly in research, due to its simplicity. This simple detector configuration allows researches to understand the fundamentals of silicon detectors without any design feature getting in the way. 

A silicon pad detector has the most simple structure possible and its composed of a thin (typically ~3$\mu$m) layer of very highly doped silicon called the implant that sits on top of a bigger (typically 300$\mu$m) piece of silicon with a lower density of dopants called the bulk. These two piece of silicon have different type of dopants to create the $p-n$ junction. Connection to the electrical circuit that provides the \vias and performs read-out of the signal is done by means of an ohmic metal contact in the top part of the pad (on top of the thin layer).On the other side of the bulk there's another highly doped layer of silicon and another metal ohmic contact is placed on top of it for better electrical contact with the circuit.



\section{Recombination} 

\section{Carrier Generation}

\section{Signal Generation: Ramo's Theorem} % No es Sergio Ramos, es otro Ramo's

